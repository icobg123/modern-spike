{% extends "base.html" %}
{% block content %}

    <main class="h-100">
        <div class="container-fluid h-100">
            <div class="row h-100">
                <div class="col-12 col-sm-9 col-md-6 col-lg-9 col-xl-7 d-flex flex-column mx-auto justify-content-center">
                    <h1 class="text-center my-1">Modern Spike</h1>

                    {#                    <div class="d-flex justify-content-between align-items-center justify-content-center my-1">#}


                    {#                        <button class="add-button btn-sm btn btn-light">Add to home screen</button>#}
                    <small class="text-center my-1 ">
                        Can you guess the card? Score:
                        <span class="d-none" id="answered_flag">0</span>
                        <span id="current_score">
                            {% if request.cookies.get('current_score') %}
                                {{ request.cookies.get('current_score') }}
                            {% else %}
                                {{ 0 }}
                            {% endif %}

                        </span>
                        /
                        <span id="total_score">
                            {% if request.cookies.get('current_score') %}
                                {{ request.cookies.get('total_score') }}
                            {% else %}
                                {{ 0 }}
                            {% endif %}
                        </span>
                    </small>
                    {#                    </div>#}
                    <div class="lds-ripple d-none">
                        <div></div>
                        <div></div>
                    </div>
                    <div class="row my-1 ">

                        <div id="oracle_text" class="col-lg-6 col-12 mx-auto">

                            <div class="card">
                                <div class="card-header text-dark py-2 d-flex align-items-center justify-content-between">
                                    Oracle text


                                    <button type="button" class="btn btn-sm btn-info float-right text-black"
                                            data-toggle="modal"
                                            data-target="#cardImage">
                                        Hint: card image
                                    </button>


                                    <!-- Modal -->
                                    <div class="modal fade" id="cardImage" tabindex="-1" role="dialog"
                                         aria-labelledby="cardImageTitle" aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header py-1">
                                                    <h5 class="modal-title" id="exampleModalLongTitle">Hint: card
                                                        image</h5>
                                                    <button type="button" class="close" data-dismiss="modal"
                                                            aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <img loading="lazy" id="card_image" class="img-fluid"
                                                         src="{{ correct_answer_image }}"
                                                         alt="{{ correct_answer_flavor_text }}"
                                                         title="{{ correct_answer_name }}">
                                                </div>
                                                {#<div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary"
                                                            data-dismiss="modal">Close
                                                    </button>
                                                </div>#}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card-body text-dark py-2">
                                    {% set list1 = correct_oracle_text_answer.split('\n') %}
                                    {% for string in list1 %}
                                        <p class="card-text mb-1">{{ string |e }}</p>
                                    {% endfor %}
                                </div>
                            </div>


                            {#                        {{ oracle_text_answer.split }}#}

                        </div>
                    </div>


                    <div class="row my-1 ">
                        <div class="col-lg-6 col-12 mx-auto">
                            <form class="form-horizontal d-flex flex-column">
                                {#            <form class="form-horizontal" method=POST action="{{ url_for('score') }}">#}


                                <div id="card_holder"
                                     class="btn-group-vertical btn-group btn-group-toggle d-flex flex-column"
                                     data-toggle="buttons">


                                    {#                    {% block cards scoped %}#}
                                    {% include "cards.html" %}
                                    {#                    {% endblock %}#}


                                </div>

                                <button id="next_card" type="button" name="choice" class="mt-2 btn btn-info text-black">
                                    Next
                                    Card
                                </button>
                                {% for card_info in card_info %}

                                    {#                    <div class="form-check">#}
                                    {#                        <input class="form-check-input" type="radio" name="pickCard"#}
                                    {#                               id="{{ card_info.name | replace(" ", "_")|lower|escape }}"#}
                                    {#                               value="{{ loop.index }}">#}
                                    {#                        <label class="form-check-label" for="{{ card_info.name | replace(" ", "")|lower|escape }}">#}
                                    {#                            {{ card_info.name }}#}
                                    {#                        </label>#}
                                    {#                    </div>#}


                                {% endfor %}


                                {#                            <button id="icara" type="submit" name="choice" class="mt-2 btn btn-light">Submit</button>#}


                            </form>


                            {#            <button type="button" class="btn btn-primary btn-lg btn-block">Block level button</button>#}
                            {#            <input type="submit" class="btn btn-primary btn-lg btn-block" value="Submit">#}
                        </div>
                    </div>


                </div>
                <div class="col-12 col-sm-9 col-md-6 col-lg-9 col-xl-7 d-flex flex-column mx-auto justify-content-center">
                    <div class="row mt-auto">

                        <div class="col-lg-6 col-12 mx-auto">
                            <nav id="footer_menu" class="nav  nav-fill justify-content-between">
                                <a class="nav-item nav-link text-white" href="/about">About</a>
                                <a class="nav-item nav-link text-white" rel="noopener" target="_blank"
                                   href="{{ modern_league_url }} "> Latest deck lists</a>
                                <a class="nav-item nav-link text-white" href="#">Link</a>

                            </nav>

                        </div>
                    </div>
                </div>


            </div>
            <div class="d-none" id="correct_answer">{{ correct_answer_index }}</div>
        </div>

    </main>

    {#    <div>#}
    {#        <p>{{ message }}</p>#}
    {##}
    {#        <p>{{ cards_from }}</p>#}
    {#    <p>{{ correct_answer }}</p>#}
    {##}
    {#        <p>{{ card_info }}</p>#}
    {#        <img src="{{ card_info }}">#}
    {#        <p>My Contacts:</p>#}
    {#        <ul>#}
    {#            {% for card in random_cards %}#}
    {#                <li>{{ card }}</li>#}
    {#            {% endfor %}#}
    {#        </ul>#}
    {#        <ul>#}
    {#            {% for card_info in card_info %}#}
    {#                <li><img alt="" src="{{ card_info.image }}">{{ card_info.name }}</li>#}
    {#            {% endfor %}#}
    {#        </ul>#}
    {##}
    {##}
    {#    </div>#}

{% endblock %}